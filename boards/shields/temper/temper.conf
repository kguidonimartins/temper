# Minimal power management configuration
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=300000

# Nordic nRF52840 specific sleep configurations
CONFIG_SOC_POWER_MANAGEMENT=y
CONFIG_PM=y
CONFIG_PM_DEVICE=y
CONFIG_POWEROFF=y
CONFIG_SYS_PM_STATE_LOCK=y
CONFIG_SYS_PM_MIN_RESIDENCY_SLEEP_1=2000
CONFIG_SYS_PM_MIN_RESIDENCY_SLEEP_2=2000

# Force deep sleep mode
CONFIG_PM_DEEP_SLEEP=y
CONFIG_PM_DEEP_SLEEP_STATES=y
CONFIG_PM_STATE_LOCK_ENABLE=y

# Bluetooth - absolute minimum power
CONFIG_BT_MAX_CONN=1
CONFIG_BT_CTLR_TX_PWR_MINUS_20=y
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=100
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=200
CONFIG_BT_PERIPHERAL_PREF_LATENCY=10
CONFIG_BT_CTLR_LOW_LAT=n
CONFIG_BT_CTLR_LLL_PREF=n
CONFIG_BT_HCI_VS=n

# Disable everything else
CONFIG_ZMK_RGB_UNDERGLOW=n
CONFIG_WS2812_STRIP=n
CONFIG_ZMK_DISPLAY=n
CONFIG_LED=n
CONFIG_PWM=n
CONFIG_SERIAL=n
CONFIG_UART_CONSOLE=n
CONFIG_USB_UART_CONSOLE=n
CONFIG_SHELL=n

# Enable USB logging for debugging
CONFIG_ZMK_USB_LOGGING=y
